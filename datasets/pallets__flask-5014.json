{
  "instance_id": "pallets__flask-5014",
  "problem_statement": "Require a non-empty name for Blueprints\nThings do not work correctly if a Blueprint is given an empty name (e.g. #4944).\r\nIt would be helpful if a `ValueError` was raised when trying to do that.\n",
  "localized_code": "[start of src/flask/blueprints.py]\n1: import os\n2: import typing as t\n3: from collections import defaultdict\n4: from functools import update_wrapper\n5: \n6: from . import typing as ft\n7: from .scaffold import _endpoint_from_view_func\n8: from .scaffold import _sentinel\n9: from .scaffold import Scaffold\n10: from .scaffold import setupmethod\n11: \n12: if t.TYPE_CHECKING:  # pragma: no cover\n13:     from .app import Flask\n14: \n15: DeferredSetupFunction = t.Callable[[\"BlueprintSetupState\"], t.Callable]\n16: T_after_request = t.TypeVar(\"T_after_request\", bound=ft.AfterRequestCallable)\n17: T_before_request = t.TypeVar(\"T_before_request\", bound=ft.BeforeRequestCallable)\n18: T_error_handler = t.TypeVar(\"T_error_handler\", bound=ft.ErrorHandlerCallable)\n19: T_teardown = t.TypeVar(\"T_teardown\", bound=ft.TeardownCallable)\n20: T_template_context_processor = t.TypeVar(\n21:     \"T_template_context_processor\", bound=ft.TemplateContextProcessorCallable\n22: )\n23: T_template_filter = t.TypeVar(\"T_template_filter\", bound=ft.TemplateFilterCallable)\n24: T_template_global = t.TypeVar(\"T_template_global\", bound=ft.TemplateGlobalCallable)\n25: T_template_test = t.TypeVar(\"T_template_test\", bound=ft.TemplateTestCallable)\n26: T_url_defaults = t.TypeVar(\"T_url_defaults\", bound=ft.URLDefaultCallable)\n27: T_url_value_preprocessor = t.TypeVar(\n28:     \"T_url_value_preprocessor\", bound=ft.URLValuePreprocessorCallable\n29: )\n30: \n31: \n32: class BlueprintSetupState:\n33:     \"\"\"Temporary holder object for registering a blueprint with the\n34:     application.  An instance of this class is created by the\n35:     :meth:`~flask.Blueprint.make_setup_state` method and later passed\n36:     to all register callback functions.\n37:     \"\"\"\n38: \n39:     def __init__(\n40:         self,\n41:         blueprint: \"Blueprint\",\n42:         app: \"Flask\",\n43:         options: t.Any,\n44:         first_registration: bool,\n45:     ) -> None:\n46:         #: a reference to the current application\n47:         self.app = app\n48: \n49:         #: a reference to the blueprint that created this setup state.\n50:         self.blueprint = blueprint\n51: \n... Code Truncated ...\n\n",
  "line_level_localization": [
    {
      "filename": "/src/flask/blueprints.py",
      "suspect_lines": []
    }
  ]
}