{
  "instance_id": "sympy__sympy-13798",
  "problem_statement": "latex() and mul_symbol\nThe `latex()` pretty-printing function accepts a `mul_symbol` kwarg that must be one of four choices. I would like to be able to supply my own choice which is not in the list. Specifically, I want the multiplication symbol to be `\\,` (i.e., a thin space). This is what I mean\r\n```\r\n>>> latex(3*x**2*y)\r\n'3 \\\\, x^{2} \\\\, y' # I typed the thin spaces in after the fact\r\n```\r\n\r\nThin spaces are used by sympy to separate differentials from integrands in integrals.\r\n```\r\n>>> latex(Integral(2*x**2*y, x))\r\n'\\\\int 2 x^{2} y\\\\, dx' # This thin space is sympy's current behavior\r\n```\r\n\r\nIs there a reason why the user cannot supply the `mul_symbol` of their choosing? Or are the 4 choices a historical artifact? I'm willing to attempt making a PR to allow `mul_symbol` to be arbitrary (and backwards-compatible) if such a PR would be considered.\n",
  "localized_code": "[start of sympy/printing/latex.py]\n1: \"\"\"\n2: A Printer which converts an expression into its LaTeX equivalent.\n3: \"\"\"\n4: \n5: from __future__ import print_function, division\n6: \n7: import itertools\n8: \n9: from sympy.core import S, Add, Symbol, Mod\n10: from sympy.core.function import _coeff_isneg\n11: from sympy.core.sympify import SympifyError\n12: from sympy.core.alphabets import greeks\n13: from sympy.core.operations import AssocOp\n14: from sympy.core.containers import Tuple\n15: from sympy.logic.boolalg import true\n16: \n17: ## sympy.printing imports\n18: from sympy.printing.precedence import precedence_traditional\n19: from .printer import Printer\n20: from .conventions import split_super_sub, requires_partial\n21: from .precedence import precedence, PRECEDENCE\n22: \n23: import mpmath.libmp as mlib\n24: from mpmath.libmp import prec_to_dps\n25: \n26: from sympy.core.compatibility import default_sort_key, range\n27: from sympy.utilities.iterables import has_variety\n28: \n29: import re\n30: \n31: # Hand-picked functions which can be used directly in both LaTeX and MathJax\n32: # Complete list at http://www.mathjax.org/docs/1.1/tex.html#supported-latex-commands\n33: # This variable only contains those functions which sympy uses.\n34: accepted_latex_functions = ['arcsin', 'arccos', 'arctan', 'sin', 'cos', 'tan',\n35:                     'sinh', 'cosh', 'tanh', 'sqrt', 'ln', 'log', 'sec', 'csc',\n36:                     'cot', 'coth', 're', 'im', 'frac', 'root', 'arg',\n37:                     ]\n38: \n39: tex_greek_dictionary = {\n40:     'Alpha': 'A',\n41:     'Beta': 'B',\n42:     'Gamma': r'\\Gamma',\n43:     'Delta': r'\\Delta',\n44:     'Epsilon': 'E',\n45:     'Zeta': 'Z',\n46:     'Eta': 'H',\n47:     'Theta': r'\\Theta',\n48:     'Iota': 'I',\n49:     'Kappa': 'K',\n50:     'Lambda': r'\\Lambda',\n51:     'Mu': 'M',\n52:     'Nu': 'N',\n53:     'Xi': r'\\Xi',\n54:     'omicron': 'o',\n55:     'Omicron': 'O',\n56:     'Pi': r'\\Pi',\n57:     'Rho': 'P',\n58:     'Sigma': r'\\Sigma',\n59:     'Tau': 'T',\n60:     'Upsilon': r'\\Upsilon',\n61:     'Phi': r'\\Phi',\n62:     'Chi': 'X',\n63:     'Psi': r'\\Psi',\n64:     'Omega': r'\\Omega',\n65:     'lamda': r'\\lambda',\n66:     'Lamda': r'\\Lambda',\n67:     'khi': r'\\chi',\n68:     'Khi': r'X',\n69:     'varepsilon': r'\\varepsilon',\n70:     'varkappa': r'\\varkappa',\n71:     'varphi': r'\\varphi',\n72:     'varpi': r'\\varpi',\n73:     'varrho': r'\\varrho',\n74:     'varsigma': r'\\varsigma',\n75:     'vartheta': r'\\vartheta',\n76: }\n77: \n78: other_symbols = set(['aleph', 'beth', 'daleth', 'gimel', 'ell', 'eth', 'hbar',\n79:                      'hslash', 'mho', 'wp', ])\n80: \n81: # Variable name modifiers\n82: modifier_dict = {\n83:     # Accents\n84:     'mathring': lambda s: r'\\mathring{'+s+r'}',\n85:     'ddddot': lambda s: r'\\ddddot{'+s+r'}',\n86:     'dddot': lambda s: r'\\dddot{'+s+r'}',\n87:     'ddot': lambda s: r'\\ddot{'+s+r'}',\n88:     'dot': lambda s: r'\\dot{'+s+r'}',\n89:     'check': lambda s: r'\\check{'+s+r'}',\n90:     'breve': lambda s: r'\\breve{'+s+r'}',\n91:     'acute': lambda s: r'\\acute{'+s+r'}',\n92:     'grave': lambda s: r'\\grave{'+s+r'}',\n93:     'tilde': lambda s: r'\\tilde{'+s+r'}',\n94:     'hat': lambda s: r'\\hat{'+s+r'}',\n95:     'bar': lambda s: r'\\bar{'+s+r'}',\n96:     'vec': lambda s: r'\\vec{'+s+r'}',\n97:     'prime': lambda s: \"{\"+s+\"}'\",\n98:     'prm': lambda s: \"{\"+s+\"}'\",\n99:     # Faces\n100:     'bold': lambda s: r'\\boldsymbol{'+s+r'}',\n101:     'bm': lambda s: r'\\boldsymbol{'+s+r'}',\n102:     'cal': lambda s: r'\\mathcal{'+s+r'}',\n103:     'scr': lambda s: r'\\mathscr{'+s+r'}',\n104:     'frak': lambda s: r'\\mathfrak{'+s+r'}',\n105:     # Brackets\n106:     'norm': lambda s: r'\\left\\|{'+s+r'}\\right\\|',\n107:     'avg': lambda s: r'\\left\\langle{'+s+r'}\\right\\rangle',\n108:     'abs': lambda s: r'\\left|{'+s+r'}\\right|',\n109:     'mag': lambda s: r'\\left|{'+s+r'}\\right|',\n110: }\n111: \n112: greek_letters_set = frozenset(greeks)\n113: \n114: _between_two_numbers_p = (\n115:     re.compile(r'[0-9][} ]*$'),  # search\n116:     re.compile(r'[{ ]*[-+0-9]'),  # match\n117: )\n118: \n119: \n120: class LatexPrinter(Printer):\n121:     printmethod = \"_latex\"\n122: \n123:     _default_settings = {\n124:         \"order\": None,\n125:         \"mode\": \"plain\",\n126:         \"itex\": False,\n127:         \"fold_frac_powers\": False,\n128:         \"fold_func_brackets\": False,\n129:         \"fold_short_frac\": None,\n130:         \"long_frac_ratio\": 2,\n131:         \"mul_symbol\": None,\n132:         \"inv_trig_style\": \"abbreviated\",\n133:         \"mat_str\": None,\n134:         \"mat_delim\": \"[\",\n135:         \"symbol_names\": {},\n136:     }\n137: \n138:     def __init__(self, settings=None):\n139:         Printer.__init__(self, settings)\n140: \n141:         if 'mode' in self._settings:\n142:             valid_modes = ['inline', 'plain', 'equation',\n143:                            'equation*']\n144:             if self._settings['mode'] not in valid_modes:\n145:                 raise ValueError(\"'mode' must be one of 'inline', 'plain', \"\n146:                     \"'equation' or 'equation*'\")\n147: \n148:         if self._settings['fold_short_frac'] is None and \\\n149:                 self._settings['mode'] == 'inline':\n150:             self._settings['fold_short_frac'] = True\n151: \n152:         mul_symbol_table = {\n153:             None: r\" \",\n154:             \"ldot\": r\" \\,.\\, \",\n155:             \"dot\": r\" \\cdot \",\n156:             \"times\": r\" \\times \"\n157:         }\n158: \n159:         self._settings['mul_symbol_latex'] = \\\n160:             mul_symbol_table[self._settings['mul_symbol']]\n161: \n162:         self._settings['mul_symbol_latex_numbers'] = \\\n163:             mul_symbol_table[self._settings['mul_symbol'] or 'dot']\n164: \n... Code Truncated ...\n\n",
  "line_level_localization": [
    {
      "filename": "/sympy/printing/latex.py",
      "suspect_lines": [
        158,
        159,
        160,
        161,
        162,
        163
      ]
    }
  ]
}