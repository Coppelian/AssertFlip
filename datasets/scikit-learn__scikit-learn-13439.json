{
  "instance_id": "scikit-learn__scikit-learn-13439",
  "problem_statement": "Pipeline should implement __len__\n#### Description\r\n\r\nWith the new indexing support `pipe[:len(pipe)]` raises an error.\r\n\r\n#### Steps/Code to Reproduce\r\n\r\n```python\r\nfrom sklearn import svm\r\nfrom sklearn.datasets import samples_generator\r\nfrom sklearn.feature_selection import SelectKBest\r\nfrom sklearn.feature_selection import f_regression\r\nfrom sklearn.pipeline import Pipeline\r\n\r\n# generate some data to play with\r\nX, y = samples_generator.make_classification(\r\n    n_informative=5, n_redundant=0, random_state=42)\r\n\r\nanova_filter = SelectKBest(f_regression, k=5)\r\nclf = svm.SVC(kernel='linear')\r\npipe = Pipeline([('anova', anova_filter), ('svc', clf)])\r\n\r\nlen(pipe)\r\n```\r\n\r\n#### Versions\r\n\r\n```\r\nSystem:\r\n    python: 3.6.7 | packaged by conda-forge | (default, Feb 19 2019, 18:37:23)  [GCC 4.2.1 Compatible Clang 4.0.1 (tags/RELEASE_401/final)]\r\nexecutable: /Users/krisz/.conda/envs/arrow36/bin/python\r\n   machine: Darwin-18.2.0-x86_64-i386-64bit\r\n\r\nBLAS:\r\n    macros: HAVE_CBLAS=None\r\n  lib_dirs: /Users/krisz/.conda/envs/arrow36/lib\r\ncblas_libs: openblas, openblas\r\n\r\nPython deps:\r\n       pip: 19.0.3\r\nsetuptools: 40.8.0\r\n   sklearn: 0.21.dev0\r\n     numpy: 1.16.2\r\n     scipy: 1.2.1\r\n    Cython: 0.29.6\r\n    pandas: 0.24.1\r\n```\n",
  "localized_code": "[start of sklearn/pipeline.py]\n1: \"\"\"\n2: The :mod:`sklearn.pipeline` module implements utilities to build a composite\n3: estimator, as a chain of transforms and estimators.\n4: \"\"\"\n5: # Author: Edouard Duchesnay\n6: #         Gael Varoquaux\n7: #         Virgile Fritsch\n8: #         Alexandre Gramfort\n9: #         Lars Buitinck\n10: # License: BSD\n11: \n12: from collections import defaultdict\n13: from itertools import islice\n14: \n15: import numpy as np\n16: from scipy import sparse\n17: \n18: from .base import clone, TransformerMixin\n19: from .utils._joblib import Parallel, delayed\n20: from .utils.metaestimators import if_delegate_has_method\n21: from .utils import Bunch\n22: from .utils.validation import check_memory\n23: \n24: from .utils.metaestimators import _BaseComposition\n25: \n26: __all__ = ['Pipeline', 'FeatureUnion', 'make_pipeline', 'make_union']\n27: \n28: \n29: class Pipeline(_BaseComposition):\n30:     \"\"\"Pipeline of transforms with a final estimator.\n31: \n32:     Sequentially apply a list of transforms and a final estimator.\n33:     Intermediate steps of the pipeline must be 'transforms', that is, they\n34:     must implement fit and transform methods.\n35:     The final estimator only needs to implement fit.\n36:     The transformers in the pipeline can be cached using ``memory`` argument.\n37: \n38:     The purpose of the pipeline is to assemble several steps that can be\n39:     cross-validated together while setting different parameters.\n40:     For this, it enables setting parameters of the various steps using their\n41:     names and the parameter name separated by a '__', as in the example below.\n42:     A step's estimator may be replaced entirely by setting the parameter\n43:     with its name to another estimator, or a transformer removed by setting\n44:     it to 'passthrough' or ``None``.\n45: \n46:     Read more in the :ref:`User Guide <pipeline>`.\n47: \n48:     Parameters\n49:     ----------\n50:     steps : list\n51:         List of (name, transform) tuples (implementing fit/transform) that are\n... Code Truncated ...\n\n",
  "line_level_localization": [
    {
      "filename": "/sklearn/pipeline.py",
      "suspect_lines": []
    }
  ]
}